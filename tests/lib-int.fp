
\ processor p12f629
processor p16f886

require checkstack.fp
           

:pic test1  
  
  1111 2222                   cs 1111 2222                $01 \ 
  1111             dup        cs 1111 1111                $02 \
  1111 2222        over       cs 1111 2222 1111           $03 \
  1111 2222 3333   rot        cs 2222 3333 1111           $04 \
  $1234 $5678 $abcd   -rot    cs $abcd $1234 $5678        $05 \
  1111 2222 3333 4444 3 roll  cs 2222 3333 4444 1111      $06 \
  1111 2222 3333 4444 3 -roll cs 4444 1111 2222 3333      $07 \
  1111 2222 3333 4444 2 pick  cs 1111 2222 3333 4444 2222 $08 \
  1111 2222             2dup  cs 1111 2222 1111 2222      $09 \
  1111 2222 3333 4444   2drop cs 1111 2222                $0a \
  255 1- 256 1- 257 1- 258 1- cs 254 255 256 257          $0b \
  254 1+ 255 1+ 256 1+ 257 1+ cs 255 256 257 258          $0c \
  

  1111 2222             nip   cs 2222       $18 \
  1111 2222             tuck  cs 2222 1111 2222      $19 \
  $1234               invert  cs $edcb      $1a \
  3333                negate  cs -3333      $1b \
  30000               2/      cs 15000      $1c \
  -30000              2/      cs -15000     $1d \
  10000               2*      cs 20000      $1e \
  -10000              2*      cs -20000     $1f \

  254 1 + 255 1 + 255 256 + 256 256 +  cs 255 256 511 512 $20 \
  257 2 - 255 2 - 255 256 -            cs 255 253 -1      $21 \
  4444 2222 - 2222 4444 -     cs 2222 -2222      $24 \
  4444 2222 + 255 1      +    cs 6666 256        $25 \
  
  2222 2222 =    2222 -3333 =     cs -1 0      $26 \
  2222 2222 <>   2222 -3333 <>    cs 0 -1      $27 \
  
  2222 2222 <   2222 -3333 <   2222 3333 <   cs 0  0  -1  $28 \
  2222 2222 <=  2222 -3333 <=  2222 3333 <=  cs -1 0  -1  $29 \
  2222 2222 >   2222 -3333 >   2222 3333 >   cs 0 -1  0   $2a \
  2222 2222 >=  2222 -3333 >=  2222 3333 >=  cs -1 -1 0   $2b \
;  
:pic test2  
  60000 30000 u<  60000 60000 u<  30000 60000 u<  cs  0   0  -1  $81 \
  60000 30000 u<= 60000 60000 u<= 30000 60000 u<= cs  0  -1  -1  $82 \
  60000 30000 u>  60000 60000 u>  30000 60000 u>  cs  -1  0   0  $83 \
  60000 30000 u>= 60000 60000 u>= 30000 60000 u>= cs  -1 -1   0  $84 \
  
  2222 0=  0 0=  -3333 0=              cs 0  -1 0  $2c \
  2222 0<> 0 0<> -3333 0<>             cs -1 0 -1  $2d \
  2222 0>= 0 0>= -3333 0>=             cs -1 -1 0  $2e \
  2222 0<= 0 0<= -3333 0<=             cs 0  -1 -1 $2f \
  2222 0>  0 0>  -3333 0>              cs -1 0  0  $30 \
  2222 0<  0 0<  -3333 0<              cs 0  0 -1  $31 \

  2222 -3333 max -3333 2222 max        cs 2222 2222   $32 \
  2222 -3333 min -3333 2222 min        cs -3333 -3333 $33 \
; 

:pic test3
    
  3333 2222 4444 >r >r                 cs 3333     $35 \
  r@                                   cs 2222     $36 \
  r>                                   cs 2222     $37 \ 
  r>                                   cs 4444     $38 \ 

  $a312  $3e86   and                   cs $2202    $39 \
  $a312  $3e86   or                    cs $bf96    $3a \
  $a312  $3e86   xor                   cs $9d94    $3b \
  
  $ffff $11ff    d1+                   cs $0000 $1200  $3c \
  $0000 $1200    d1-                   cs $ffff $11ff  $3d \
  $1234 $5678    dinvert               cs $edcb $a987  $3e \
  $0001 $0000    dnegate               cs $ffff $ffff  $3f \
 
  10 2 *                               cs 20 $40 \                         
  10000  2 * 128 2 * 2 128 *           cs 20000 256 256       $40 \
  -10000 2 * 10000 -2 * -10000 -2 *    cs -20000 -20000 20000 $41 \
  513 20 * 20 513 *                    cs 10260 10260           $42 \
  60000 60000 um* 30000 30000 um*      cs $A400 $D693 $E900 $35A4   $43 \
  30000 30000 m* -30000 -30000 m*      cs $E900 $35A4 $E900 $35A4   $44 \
  -30000 30000 m* 30000 -30000 m*      cs $1700 $CA5B $1700 $CA5B   $45 \
  
  $0000 $2000 $8000 um/mod              cs  0 $4000               $46 \
  $8000 $0000 $8000 um/mod              cs  0 $0001               $47 \
  $0035 $0008 $8000 um/mod              cs  $35 $0010             $48 \
  $34ab $8012 $89cd um/mod              cs  $62af $edec           $49 \
  $34ab $8012 $89cd um/                 cs  $edec                 $49 \
  $34ab $8012 $89cd ummod               cs  $62af                 $4a \
;
:pic test4
  60035 3000 u/mod                      cs 35 20                  $50 \
  60035 3000 u/                         cs 20                     $51 \
  60035 3000 umod                       cs 35                     $52 \
  30035 3000 /mod  -30035 3000 /mod     cs 35 10 -35 -10          $53 \
  30035 -3000 /mod -30035 -3000 /mod    cs 35 -10 -35 10          $54 \
  30035 3000 / 30035 -3000 /            cs 10 -10                 $55 \                         
  -30035 3000 / -30035 -3000 /          cs -10 10                 $56 \                        
  30035 3000 mod 30035 -3000 mod        cs 35 35                  $57 \                         
  -30035 3000 mod -30035 -3000 mod      cs -35 -35                $58 \                         
                               
  $abcd $1234 $789a m/mod               cs  $148b $26a5           $60 \
  -1024 $ffff 100  m/mod                cs  -24 -10               $61 \
  1024 0 -100 m/mod                     cs 24 -10                 $62 \
  -1024 $ffff -100  m/mod               cs -24 10                 $63 \
  
  1024 0 100 m/  -1024 $ffff 100  m/    cs  10 -10                $64 \
  1024 0 -100 m/ -1024 $ffff -100  m/    cs -10 10                $65 \

  1024 0 100 mmod  -1024 $ffff 100  mmod    cs  24 -24            $66 \
  1024 0 -100 mmod -1024 $ffff -100  mmod   cs  24 -24            $67 \
;
  

:pic main
  0 trisa!
  0 porta!
  12345 
  
\  -1024 $ffff 100  m/mod        halt        cs  -24 -10               $61 \
  
  test1
  test2
  test3
  test4
  
  cs 12345 254 \
  255 >byte show-error halt

;

